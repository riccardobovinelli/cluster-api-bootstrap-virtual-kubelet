---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  name: virtualkubeletconfigtemplates.bootstrap.cluster.x-k8s.io
spec:
  group: bootstrap.cluster.x-k8s.io
  names:
    kind: VirtualKubeletConfigTemplate
    listKind: VirtualKubeletConfigTemplateList
    plural: virtualkubeletconfigtemplates
    singular: virtualkubeletconfigtemplate
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: VirtualKubeletConfigTemplate is the Schema for the virtualkubeletconfigtemplates
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: VirtualKubeletConfigTemplateSpec defines the desired state
              of VirtualKubeletConfigTemplate
            properties:
              template:
                description: KubeadmConfigTemplateResource defines the Template structure.
                properties:
                  metadata:
                    description: |-
                      Standard object's metadata.
                      More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata
                    type: object
                  spec:
                    description: VirtualKubeletConfigSpec defines the desired state
                      of VirtualKubeletConfig
                    minProperties: 1
                    properties:
                      commands:
                        description: Commands specifies extra commands to run before
                          kubeadm runs
                        items:
                          type: string
                        type: array
                      files:
                        description: Files specifies extra files to be passed to user_data
                          upon creation.
                        items:
                          description: File defines the input for generating write_files
                            in cloud-init.
                          properties:
                            append:
                              description: append specifies whether to append Content
                                to existing file if Path exists.
                              type: boolean
                            content:
                              description: content is the actual content of the file.
                              maxLength: 10240
                              minLength: 1
                              type: string
                            contentFrom:
                              description: contentFrom is a referenced source of content
                                to populate the file.
                              properties:
                                secret:
                                  description: secret represents a secret that should
                                    populate this file.
                                  properties:
                                    key:
                                      description: key is the key in the secret's
                                        data map for this value.
                                      maxLength: 256
                                      minLength: 1
                                      type: string
                                    name:
                                      description: name of the secret in the KubeadmBootstrapConfig's
                                        namespace to use.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                  type: object
                              type: object
                            encoding:
                              description: encoding specifies the encoding of the
                                file contents.
                              enum:
                              - base64
                              - gzip
                              - gzip+base64
                              type: string
                            owner:
                              description: owner specifies the ownership of the file,
                                e.g. "root:root".
                              maxLength: 256
                              minLength: 1
                              type: string
                            path:
                              description: path specifies the full path on disk where
                                to store the file.
                              maxLength: 512
                              minLength: 1
                              type: string
                            permissions:
                              description: permissions specifies the permissions to
                                assign to the file, e.g. "0640".
                              maxLength: 16
                              minLength: 1
                              type: string
                          type: object
                        type: array
                      format:
                        description: Format specifies the output format of the bootstrap
                          data
                        enum:
                        - cloud-config
                        - ignition
                        type: string
                      users:
                        description: Users specifies extra users to add
                        items:
                          description: User defines the input for a generated user
                            in cloud-init.
                          properties:
                            gecos:
                              description: gecos specifies the gecos to use for the
                                user
                              maxLength: 256
                              minLength: 1
                              type: string
                            groups:
                              description: groups specifies the additional groups
                                for the user
                              maxLength: 256
                              minLength: 1
                              type: string
                            homeDir:
                              description: homeDir specifies the home directory to
                                use for the user
                              maxLength: 256
                              minLength: 1
                              type: string
                            inactive:
                              description: inactive specifies whether to mark the
                                user as inactive
                              type: boolean
                            lockPassword:
                              description: lockPassword specifies if password login
                                should be disabled
                              type: boolean
                            name:
                              description: name specifies the user name
                              maxLength: 256
                              minLength: 1
                              type: string
                            passwd:
                              description: passwd specifies a hashed password for
                                the user
                              maxLength: 256
                              minLength: 1
                              type: string
                            passwdFrom:
                              description: passwdFrom is a referenced source of passwd
                                to populate the passwd.
                              properties:
                                secret:
                                  description: secret represents a secret that should
                                    populate this password.
                                  properties:
                                    key:
                                      description: key is the key in the secret's
                                        data map for this value.
                                      maxLength: 256
                                      minLength: 1
                                      type: string
                                    name:
                                      description: name of the secret in the KubeadmBootstrapConfig's
                                        namespace to use.
                                      maxLength: 253
                                      minLength: 1
                                      type: string
                                  type: object
                              type: object
                            primaryGroup:
                              description: primaryGroup specifies the primary group
                                for the user
                              maxLength: 256
                              minLength: 1
                              type: string
                            shell:
                              description: shell specifies the user's shell
                              maxLength: 256
                              minLength: 1
                              type: string
                            sshAuthorizedKeys:
                              description: sshAuthorizedKeys specifies a list of ssh
                                authorized keys for the user
                              items:
                                type: string
                              maxItems: 100
                              type: array
                              x-kubernetes-list-type: atomic
                            sudo:
                              description: sudo specifies a sudo role for the user
                              maxLength: 256
                              minLength: 1
                              type: string
                          type: object
                        type: array
                      virtualKubelet:
                        properties:
                          args:
                            items:
                              type: string
                            type: array
                          url:
                            type: string
                        type: object
                    required:
                    - virtualKubelet
                    type: object
                type: object
            required:
            - template
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
